<% visitor = notification.visitor %>
<% visited = notification.visited %>

<div>
  <%= link_to end_user_path(visitor), data: { 'turbolinks': false } do %>
    <strong><%= visitor.nick_name %></strong>
  <% end %>さんが
</div>
<div class='row justify-content-center mx-auto'>
  <% case notification.action %>
    <% when 'follow' then %>
      <p>あなたをフォローしました</p>
    <% when 'favorite' then %>
      あなたの投稿<%= notification.review.review.truncate(20) %>にいいねしました
    <% when 'comment' then %>
      <% if notification.review.end_user_id == visited.id %>
        あなたの投稿<%= notification.review.review.truncate(20) %>にコメントしました。
      <% end %>
  <% end %>
  <span><%= " (#{time_ago_in_words(notification.created_at)} 前)" %></span>
</div>